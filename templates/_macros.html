<!-- Navigation -->
{% macro nav_bar(sections) %}
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">
      <div class="container">
        <a class="navbar-brand js-scroll-trigger" href="{{url_for('mainPage')}}">Online Menu</a>
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          Menu
          <i class="fa fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav text-uppercase ml-auto">
            {% for section in sections %}
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href={{sections[section]}}>{{section}}</a>
            </li>
            {% endfor %}
        </div>
      </div>
    </nav>
{% endmacro %}


<!-- Header -->
{% macro header(main_page, restaurant) %}
	{% if main_page==True %}
    <header class="masthead">
      <div class="grad-layer">
        <div class="container">

          <div class="row">
            <div class="col-lg-12">
              <div class="intro-text">
                <div class="intro-lead-in">Find a place to eat!</div>

                  <form action="{{url_for('mainPage')}}" method = 'POST'>
                    <div class="row">
                      <div class="col-lg-3 header-form-grid ">
                        
                        <div class="dropdown">
                          <input type="" name="" class="btn-block btn-xl dropdown-toggle form-control" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          </input>
                          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                            <a class="dropdown-item" href="#">Action</a>
                            <a class="dropdown-item" href="#">Another action</a>
                            <a class="dropdown-item" href="#">Something else here</a>
                          </div>
                        </div>
                        <!-- <input class="btn-block btn-xl form-control" type='text' size='30' name='name' placeholder='aa'> -->
                      
                      </div>
                      <div class="col-lg-6 header-form-grid ">
                        <input  class="btn-block btn-xl form-control" type='text' size='30' name='name' placeholder='aa'>
                      </div>
                      <div class="col-lg-3 header-form-grid ">
                        <button class="btn btn-primary btn-block btn-xl btn-text-black" type="submit">Search</button>
                      </div>
                      
                    </div>
                  </form>

              <a class="btn btn-primary btn-text-black js-scroll-trigger" href="{{url_for('newRestaurant')}}" style="margin-top: 45px;">Add your restraurant</a>

              </div>
            </div>
          </div>

        </div>
      </div>
    </header>
	{% else %}
    {% if restaurant %}
    <header class="masthead" style="background-image: url('/static/img/restaurants/{{restaurant.id}}/background.jpeg')">
    {% else %}
    <header class="masthead">
    {% endif %}
    	<div class="grad-layer">
	      <div class="container">
	        <div class="intro-text">
	        </div>
	      </div>
	  	</div>
    </header>
	{% endif %}
{% endmacro %}


<!-- message flashing -->
{% macro message_flashing() %}
		<section class="bg-light no-padding" id="message-flashing">
      <div class="container item">
        <div class="row">
          <div class="col-lg-12 text-center">
            {% with messages = get_flashed_messages() %}
            {% if messages %}

            <ul class="flashing">
            {% for message in messages %}
              <li><strong>{{message}}</strong></li>
              {% endfor %}
            </ul>
            {% endif %}
            {% endwith %}
          </div>
        </div>
      </div>
    </section>
{% endmacro %}

<!-- post-viewing -->
{% macro post_view(post) %}

  <div class="col-lg-12 text-left comment">
    <hr>
    <h6>{{post.user.email}}</h6>
    <p class="text-muted"><small>Data dodania: {{post.posted_at.strftime('%Y-%m-%d %H:%m')}}</small></p>

    {{ rating(post.rating) }}

    <p class="text-muted">{{post.content}}</p> 
  </div>

{% endmacro %}

<!-- rating -->
{% macro rating(rate) %}
  {% if rate %}
  
    <div class="star-rating">
      <span class="star-label text-muted">Rated: </span>
      <span class="fa fa-star-o" data-rating="1" post-rating="{{rate}}"></span>
      <span class="fa fa-star-o" data-rating="2" post-rating="{{rate}}"></span>
      <span class="fa fa-star-o" data-rating="3" post-rating="{{rate}}"></span>
      <span class="fa fa-star-o" data-rating="4" post-rating="{{rate}}"></span>
      <span class="fa fa-star-o" data-rating="5" post-rating="{{rate}}"></span>
      <span class="star-label text-muted">- {{rate}}</span>
    </div>

  {% else %}

    <div class="star-rating">
      <span class="star-label text-muted">Rated: </span>
      <span class="fa fa-star-o text-muted"></span>
      <span class="fa fa-star-o text-muted"></span>
      <span class="fa fa-star-o text-muted"></span>
      <span class="fa fa-star-o text-muted"></span>
      <span class="fa fa-star-o text-muted"></span>
      <span class="star-label text-muted">- no one rated this restaurant yet</span>
    </div>

  {% endif%}
{% endmacro %}

